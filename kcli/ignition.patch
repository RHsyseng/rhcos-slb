diff --git a/custom-config.fcc.tmpl b/custom-config.fcc.tmpl
index 000b248..b5685f1 100644
--- a/custom-config.fcc.tmpl
+++ b/custom-config.fcc.tmpl
@@ -27,8 +27,22 @@ storage:
         source: data:text/plain;charset=utf-8;base64,${base64_create_datastore_script_content}
 systemd:
   units:
-    - name: capture-macs.service
+    - name: capture-macs-kcli.service
       enabled: true
+      contents: |
+        [Unit]
+        Description=Capture MAC address from kargs
+        ConditionKernelCommandLine=custom-config
+
+        [Service]
+        Type=oneshot
+        ExecStart=/usr/local/bin/capture-macs
+        StandardOutput=journal
+
+        [Install]
+        WantedBy=multi-user.target
+    - name: capture-macs.service
+      enabled: false
       contents: |
         [Unit]
         Description=Capture MAC address from kargs
@@ -43,7 +57,7 @@ systemd:
         [Install]
         RequiredBy=coreos-installer.target
     - name: create-datastore.service
-      enabled: true
+      enabled: false
       contents: |
         [Unit]
         Description=Create data partition if one doesn't already exist
